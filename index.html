<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Languages JS by RSamaium</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Languages JS</h1>
      <h2 class="project-tagline">Translation system in Javascript with the JSON format.</h2>
      <a href="https://github.com/RSamaium/Languages" class="btn">View on GitHub</a>
      <a href="https://github.com/RSamaium/Languages/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/RSamaium/Languages/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="languagesjs" class="anchor" href="#languagesjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>Languages.js</h1>

<p>Version 1.0.0</p>

<h2>
<a id="description" class="anchor" href="#description" aria-hidden="true"><span class="octicon octicon-link"></span></a>Description</h2>

<p>Translation system in Javascript with the JSON format.</p>

<h2>
<a id="works-with" class="anchor" href="#works-with" aria-hidden="true"><span class="octicon octicon-link"></span></a>Works with</h2>

<ul>
<li>Javascript</li>
<li>Node.js</li>
<li>AngularJS</li>
<li>Handlebars</li>
</ul>

<h2>
<a id="get-started" class="anchor" href="#get-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Get Started</h2>

<p>Follow the steps below to start:</p>

<ol>
<li>
<p>Install the script</p>

<pre><code>&lt;script src="path/Languages.js"&gt;&lt;/script&gt;
</code></pre>
</li>
<li>
<p>Initialize languages</p>

<pre><code>Languages.init([id], [path], [callback]);

* id  : Identifier of the language in the JSON file.
* path (optional) : Path to the folder JSON files. Default: `languages/`
* callback (optional) : Function called when the JSON file is loaded
</code></pre>

<p>Example :</p>

<pre><code>Languages.init("fr", "languages/", function() {

});
</code></pre>

<p>If the type of <code>id</code> is an array, language is the browser among the identifiers of the array. If it is not found in the array, the first element of the array will be the default language</p>

<p>Example :</p>

<pre><code>Languages.init(["en", "fr", "jp", "es"], "languages/", function() {

});
</code></pre>
</li>
<li>
<p>To translate a sentence, use the identifier with the function <code>t()</code> in the callback function :</p>

<pre><code>Languages.init("fr", "languages/", function() {
    var txt = "HELLO_WORD".t();
});
</code></pre>
</li>
<li>
<p>To change the language :</p>

<pre><code>Languages.set("jp", function() {
    var txt = "HELLO_WORD".t();
});
</code></pre>

<blockquote>
<p>Think about the functions and remember to update your interface</p>

<p>Note that you can call a language of a country. Example :
      Languages.init("en_US", "languages/", function() {</p>

<pre><code>  });
</code></pre>
</blockquote>
</li>
</ol>

<h3>
<a id="nodejs" class="anchor" href="#nodejs" aria-hidden="true"><span class="octicon octicon-link"></span></a>NodeJS</h3>

<h4>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h4>

<pre><code>npm install languages-js
</code></pre>

<h4>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h4>

<p>The code is very simple. You just get the <code>languages-js</code> module :</p>

<pre><code>var Languages = require("languages-js").Languages;

Languages.init("fr", "languages/", function() {
    // Code
});
</code></pre>

<h3>
<a id="angularjs" class="anchor" href="#angularjs" aria-hidden="true"><span class="octicon octicon-link"></span></a>AngularJS</h3>

<pre><code>var app = angular.module("app", ["Languages"]);

app.config(["LanguagesProvider", function(Languages) {

        Languages.init("fr", "../languages/");

}]);
</code></pre>

<h3>
<a id="handlebars" class="anchor" href="#handlebars" aria-hidden="true"><span class="octicon octicon-link"></span></a>Handlebars</h3>

<pre><code>&lt;p&gt;{{t "TEXT"}}&lt;/p&gt;
</code></pre>

<p>And more parameters :</p>

<p>Example 1 :</p>

<pre><code>&lt;p&gt;{{t "NB_MSG" nb=2}}&lt;/p&gt;
</code></pre>

<p>Example 2 :</p>

<pre><code>&lt;p&gt;{{t "NB_MSG|EMPTY" nb=1 if=true}}&lt;/p&gt;
</code></pre>

<p>With Express-hbs module :</p>

<pre><code>var hbs = require('express-hbs');
var Languages = require("languages-js").Languages;

Languages.require('express-hbs')

Languages.init("fr", "../languages/");
</code></pre>

<h3>
<a id="add-a-plugin-system" class="anchor" href="#add-a-plugin-system" aria-hidden="true"><span class="octicon octicon-link"></span></a>Add a plugin system</h3>

<p>Sometimes you want to have language files elsewhere for a plugin. Files are loaded and added language to the interface</p>

<pre><code>Languages.init("en", "core/languages/", function() {
    var txt = "HELLO_WORD".t();
});
Languages.add("en", "plugins/my_plugin/languages/", "plugin_name", function() {
    var txt = "plugin_name.HELLO_WORD".t();
});
</code></pre>

<p>Use the <code>add()</code> method and add the plugin name (namespace)</p>

<h2>
<a id="json-configuration" class="anchor" href="#json-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>JSON configuration</h2>

<p>The files must be defined in the <code>path</code> folder in <code>init()</code> method. The file name must be the identifier defined in the method <code>init()</code>. If possible, use the same name as the identifier of the browser (<code>navigator.language</code>)</p>

<p>Example : <code>languages/fr_FR.json</code>, <code>languages/en_EN.json</code>, <code>languages/en_US.json</code>, etc.</p>

<p>JSON file must have the following format:</p>

<pre><code>[{
    "ID": "text"
},
{
    "config": {}
}]
</code></pre>

<p>The first entry in the table contains the identifiers with texts. The second contains the configuration values ​​as the plural.</p>

<p>Example :</p>

<pre><code>[{
    "HELLO_WORD": "Hello World"
},
{
    "plurial": {
        "p": ["s"]
    }
}]
</code></pre>

<p>With the above example, in the code, <code>"HELLO_WORLD".t()</code> returns <code>Hello World</code></p>

<h3>
<a id="plurial" class="anchor" href="#plurial" aria-hidden="true"><span class="octicon octicon-link"></span></a>Plurial</h3>

<p>The plural is defined in the JSON with the <code>plurial</code> key. Consider an example :</p>

<pre><code>[{
    "NB_MSG": "You have %d post%p"
},
{
    "plurial": {
        "p": ["s"]
    }
}]
</code></pre>

<p>Here, the <code>%d</code>parameter specifies an integer number is expected for <code>NB_MSG</code> id. <code>%p</code> indicates that the plural of the term is used. The plural will be based on the value of <code>%d</code>. In <code>plurial</code> parameter, we define a rule. For <code>%p</code> in the plural, the letter <code>s</code> is added at the end.</p>

<p>The result will be :</p>

<pre><code>var nb_msg = 1;
"NB_MSG".t(nb_msg); // You have 1 post

nb_msg = 2;
"NB_MSG".t(nb_msg); // You have 2 posts
</code></pre>

<h4>
<a id="plural-feature" class="anchor" href="#plural-feature" aria-hidden="true"><span class="octicon octicon-link"></span></a>Plural feature</h4>

<p>It may be that the plural is different depending on a word. You can set it like this:</p>

<pre><code>[{
    "NB_ACC": "You have %d accessor%p1"
},
{
    "plurial": {
        "p": ["s"],
        "p1": ["ies", "y"]
    }
}]
</code></pre>

<p>Here, we define a new rule of plural.</p>

<p>The result will be :</p>

<pre><code>var nb = 1;
"NB_ACC".t(nb); // You have 1 accessory

nb_msg = 2;
"NB_ACC".t(nb); // You have 2 accessories
</code></pre>

<p>Thus, the table is defined as follows:</p>

<pre><code>"p[0-9]+": [plurial, singular, duel, triel, etc.]
</code></pre>

<h2>
<a id="parameters" class="anchor" href="#parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parameters</h2>

<p>In a string, you can add parameters :</p>

<pre><code>"NAME": "You name is %s, you're %d"
</code></pre>

<p>The code will :</p>

<pre><code>"NAME".t("Sam", 21);
</code></pre>

<ul>
<li>
<code>%s</code> : string</li>
<li>
<code>%d</code> : decimal</li>
<li>
<code>%p</code> : indicates a plural (see above)</li>
</ul>

<h2>
<a id="advanced-usage" class="anchor" href="#advanced-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Advanced Usage</h2>

<p>It is possible to couple id :</p>

<pre><code>[{
    "LOGIN": "Login",
    "LOGOUT": "Logout"
},
{
    "plurial": {}
}]
</code></pre>

<p>The code :</p>

<pre><code>"LOGIN|LOGOUT".t(true);
</code></pre>

<p>If the parameter is true, it will take the first identifier (separated by |). Otherwise, it takes the second</p>

<p>Other example :</p>

<pre><code>[{
    "NB_MSG": "You have %d post%p",
    "EMPTY": "You have no messages !"
},
{
    "plurial": {
        "p": ["s"]
    }
}]
</code></pre>

<p>The code : </p>

<pre><code> var nb_msg = 0;
 "NB_MSG|EMPTY".t(nb_msg &gt; 0, nb_msg); // You have no messages !

 nb_msg = 2;
"NB_MSG|EMPTY".t(nb_msg &gt; 0, nb_msg); // You have 2 posts !
</code></pre>

<p>Finally, if the identifiers are separated by a space, you can use multiple identifiers :</p>

<pre><code>[{
    "LOGIN": "Login",
    "WITH": "with"
},
{
    "plurial": {}
}]
</code></pre>

<p>The code :</p>

<pre><code>"LOGIN WITH".t() // Login with
</code></pre>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>MIT. Free for commercial use.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/RSamaium/Languages">Languages JS</a> is maintained by <a href="https://github.com/RSamaium">RSamaium</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

